<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style/page.css">
  <title>Film Details</title>
</head>
<body>
<header>
  <div>
    <nav>
      <a href="../index.html" class="logo">
        <img src="../images/Logo2.svg" alt="logo">
      </a>
      <ul>
        <li><a href="../pages/prof.html">Профиль</a></li>
        <li><a href="#">Билеты</a></li>
      </ul>
      <button class="exit">
        <img src="../images/Exit.svg" alt="log out">
        <span class="log__out">Выйти</span>
        </button>
    </nav>
  </div>
</header>
  <div id="filmDetails">
    <div id="filmInfo"></div>
  </div>
  <script>
    const baseUrl = 'https://shift-backend.onrender.com'
    // Получение filmId из URL страницы
    const urlParams = new URLSearchParams(window.location.search);
    const filmId = urlParams.get('id');

    fetch(`${baseUrl}/cinema/film/${filmId}`)
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then(film => {
        const data = film.film
        const filmDetailsElement = document.getElementById('filmDetails');
        const filmInfoElement = document.getElementById('filmInfo');
        filmDetailsElement.innerHTML = ''; // Очищаем содержимое перед добавлением новых данных

        //Добавляю изображение карточки
        const img = document.createElement('img');
        img.src = baseUrl+data.img;
        img.alt = data.name;
        img.classList.add('cinema__img');
        filmDetailsElement.appendChild(img);

        // Создаем элементы для отображения данных о фильме
        const title = document.createElement('h2');
        title.textContent = data.name; 
        filmInfoElement.appendChild(title);

        const description = document.createElement('p');
        description.textContent = data.description; 
        filmInfoElement.appendChild(description);

        /* filmDetailsElement.appendChild(cinemaCard) */
        filmDetailsElement.appendChild(filmInfoElement)
        
      })
      .catch(error => {
        console.error('Ошибка', error);
      });
  </script>
</body>
</html>
